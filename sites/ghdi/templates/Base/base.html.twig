<!doctype html>
<html class="no-js" lang="{{ app.request.getLocale() }}{% if 'en' == app.request.getLocale() %}-us{% endif %}"
      prefix="og: http://ogp.me/ns# profile: http://ogp.me/ns/profile# place: http://ogp.me/ns/place# books: http://ogp.me/ns/books#">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>
            {% if pageMeta is defined and pageMeta.title is defined %}{{ pageMeta.title }} | {% endif %}
            {{ site_name|trans({}, 'additional') }}
        </title>

        {# see https://github.com/mnater/Hyphenopoly#usage-browser #}
        <script type="text/javascript">
            var Hyphenopoly = {
                require: {
                    "de": "Silbentrennungsalgorithmus",
                    "en-us": "Supercalifragilisticexpialidocious"
                },
                setup: {
                    selectors: {
                        ".hyphens-auto": {}
                    }
                }
            };
        </script>
        <script src="{{ app.request.basepath }}/vendor/Hyphenopoly-4.6.0/Hyphenopoly_Loader.js" type="text/javascript"></script>

        <script src="{{ app.request.basepath }}/js/jquery-3.4.1.min.js"></script>
        <script src="{{ app.request.basepath }}/js/popper.min.js"></script>

        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="{{ app.request.basepath }}/vendor/bootstrap-5.0.1-dist/css/bootstrap.min.css">

        <!-- Latest compiled and minified JavaScript -->
        <script src="{{ app.request.basepath }}/vendor/bootstrap-5.0.1-dist/js/bootstrap.min.js"></script>
        {#
            triggers scssphp, this one doesn't prepend app.request.basepath
            since it overrides \Symfony\Bridge\Twig\Extension\AssetExtension
            and doesn't prepend $this->getBasePath().ltrim($versionedPath, '/')
            as in Symfony\Component\Asset\PathPackage
        #}
        <link href="{{ app.request.basepath }}{{ asset('css/base.css') }}" rel="stylesheet">
        {% block head %}{% endblock %}
    </head>

    <body role="document" class="route-{{ app.request.get('_route') | replace({'_' : '-'}) }}{% if volume is defined %} {{ volume.getId(true) }}{% endif %}{% if document_class is defined %} {{ document_class }}{% endif %}">
        {% block navtop %}
        <nav class="navbar container">
            <a class="navbar-brand" href="{{ path('home') }}">
                <img src="{{ app.request.basepath }}/img/ghdi_logo.png" alt="{{ site_name|trans({}, 'additional') }}" id="logo" />
            </a>
            {{ knp_menu_render('volumes') }}
            <ul id="navbar-about-locale" class="list-inline">
                <li class="list-inline-item{% if 'about' == app.request.attributes.get('_route') %} current{% endif %} dropdown">
                    <a href="{{ path('about') }}" {#class="dropdown-toggle" id="dropdownAboutMenuButton" data-toggle="dropdown"#}>
                        {{ 'The Project'|trans }}
                    </a>
                    {#
                    <div class="dropdown-menu" aria-labelledby="dropdownAboutMenuButton">
                        <a class="dropdown-item" href="{{ path('about') }}">{{ 'About the Project'|trans }}</a>
                        <a class="dropdown-item" href="{{ path('about-working-groups') }}">{{ 'Editorial Working Groups'|trans }}</a>
                        <a class="dropdown-item" href="{{ path('about-team') }}">{{ 'GHI Project Team'|trans }}</a>
                        <a class="dropdown-item" href="{{ path('terms') }}">{{ 'Terms and Conditions'|trans }}</a>
                    </div>
                    #}
                </li>
                {% for locale in locales %}
                <li class="list-inline-item{% if locale == app.request.locale %} current{% endif %}">
                    {% if locale == app.request.locale %}
                        {{ locale }}
                    {% else %}
                        {% set route = 'home' %}
                        {% if app.request.attributes.get('_route') is not empty %}
                            {% set route = app.request.attributes.get('_route') %}
                        {% endif %}
                        {% if route_params_locale_switch is defined and route_params_locale_switch[locale] is defined %}
                            {% set route = 'dynamic' %}
                            {% set route_params = route_params_locale_switch[locale] %}
                        {% else %}
                            {% set route_params = {} %}
                            {% if app.request.attributes.get('_route_params') is not null %}
                                {% set route_params = app.request.attributes.get('_route_params') %}
                            {% endif %}
                            {% set route_params = route_params|merge(app.request.query.all) %}
                        {% endif %}
                        <a href="{{ path(route, route_params|merge({'_locale': locale})) }}">{{ locale }}</a>
                    {% endif %}
                </li>
                {% endfor %}
                <li class="list-inline-item">
                    <a href="{{ path('search') }}"><img src="{{ app.request.basepath }}/img/search.svg" alt="{{ 'Search'|trans }}" height="12" /></a>
                </li>
            </ul>
        </nav>
        <nav class="navbar navbar-expand-lg container-fluid p-0" style="overflow: hidden">
                <ul class="navbar-nav nav-fill w-100" id="volumes">
        {% set volumes = get_volumes(app.request.locale) %}
        {%

            set volumeDescr = {
                'volume-1': {
                    'period': '1500-1648',
                    'de': 'Von der Reformation bis zum Dreißigjährigen Krieg',
                    'en': 'From the Reformation to the Thirty Years War',
                },
                'volume-2': {
                    'period': '1648-1815',
                    'de': 'Vom Absolutismus bis zu Napoleon',
                    'en': 'From Absolutism to Napoleon',
                },
                'volume-3': {
                    'period': '1815-1866',
                    'de': 'Vom Vormärz bis zur Preußischen Vorherrschaft',
                    'en': 'From Vormärz to Prussian Dominance',
                },
                'volume-4': {
                    'period': '1866-1890',
                    'de': 'Reichsgründung: Bismarcks Deutschland',
                    'en': 'Forging an Empire: Bismarckian Germany',
                },
                'volume-5': {
                    'period': '1890-1918',
                    'de': 'Das Wilhelminische Kaiserreich und der Erste Weltkrieg',
                    'en': 'Wilhelmine Germany and the First World War',
                },
                'volume-6': {
                    'period': '1918/19-1933',
                    'de': 'Die Weimarer Republik',
                    'en': 'Weimar Germany',
                },
                'volume-7': {
                    'period': '1933-1945',
                    'de': 'Deutschland unter der Herrschaft des Nationalsozialismus',
                    'en': 'Nazi Germany',
                },
                'volume-8': {
                    'period': '1945-1961',
                    'de': 'Die Besatzungszeit und die Entstehung zweier Staaten',
                    'en': 'Occupation and the Emergence of Two States',
                },
                'volume-9': {
                    'period': '1961-1989',
                    'de': 'Zwei deutsche Staaten',
                    'en': 'Two Germanies',
                },
                'volume-10': {
                    'period': '1989-2009',
                    'de': 'Ein Deutschland in Europa',
                    'en': 'One Germany in Europe',
                }
            }

        %}
            {% for key,info in volumeDescr %}
                {% set path = '#' %}
                {% for volume in volumes %}
                    {% if volume.getId(true) == key %}
                        {% set path = path('dynamic', { 'path': volume.dtaDirname }) %}
                    {% endif %}
                {% endfor %}
                    <li class="nav-item" style="background-image: url('{{ app.request.basepath }}/img/ghis/menu/{{ key }}.jpg');">
                        <a href="{{ path }}"><div class="title">
                            {{ info.period }}
                            <h5>{{ info[app.request.locale] }}</h5>
                        </div></a>
                    </li>
            {% endfor %}
                </ul>
        </nav>
    {% endblock %}

        {% block maincontainer %}
        <div id="main-wrapper">
            <main role="main" class="container">
            {% block body %}{% endblock %}
            </main>
        </div><!-- #main-wrapper -->
        {% endblock %}

        {% block footer %}
        <footer>
            <div class="container logos">
            <div class="row">
                <div class="col-sm-12" style="text-align: right">
                    <a href="https://www.ghi-dc.org/" target="_blank">
                        <img src="{{ app.request.basepath }}/img/ghi_logo.png" alt="German Historical Institute Washington"  style="height: 17px; margin-bottom: 8px; width: auto" />
                    </a>
                    <a href="https://www.dfg.de/" target="_blank">
                        <img src="{{ app.request.basepath }}/img/dfg.png" alt="Deutsche Forschungsgemeinsschaft"  style="height: 30px; width: auto; margin-left: 3em;" />
                    </a>
                    <a href="https://www.zeit-stiftung.de/" target="_blank">
                        <img src="{{ app.request.basepath }}/img/zeit-stiftung.png" alt="ZEIT-Stiftung" style="height: 40px; width: auto; margin-left: 3em;" />
                    </a>
                </div>
            </div>
          </div>
          <div class="container-fluid info">
            <div class="row align-items-end">
                <div class="col-sm-8 left">
                    <a href="{{ path('home') }}">
                        <img class="img-fluid w-25 logo-footer" src="{{ app.request.basepath }}/img/ghis/footer-ghdi.png" alt="German History in Documents and Images" />
                    </a><br />
                    {% if 'de' == app.request.locale %}
                        GHDI ist ein Projekt des <a href="https://www.ghi-dc.org/" target="_blank">Deutschen Historischen Instituts, Washington DC</a>. Es wird ermöglicht durch die großzügige Unterstützung der <a href="https://maxkadefoundation.org/" target="_blank">Max Kade Foundation</a> und der <a href="https://www.zeit-stiftung.de/en/" target="_blank">ZEIT-Stiftung Ebelin und Gerd Bucerius</a>, und durchgeführt in Zusammenarbeit mit den <a href="https://www.ghi-dc.org/about-us/friends-of-the-ghi" target="_blank">Friends of the German Historical Institute</a>, dem <a href="https://www.bpk-bildagentur.de/" target="_blank">Bildarchiv Preußischer Kulturbesitz</a> und the <a href="https://www.ieg-maps.uni-mainz.de/" target="_blank"> IEG-MAPS, Institut für Europäische Geschichte, Mainz</a>.
                    {% else %}
                        GHDI is an initiative of the <a href="https://www.ghi-dc.org/" target="_blank">German Historical Institute, Washington DC</a>. Made possible by the generous support of the <a href="https://maxkadefoundation.org/" target="_blank">Max Kade Foundation</a> and the <a href="https://www.zeit-stiftung.de/en/" target="_blank">ZEIT-Stiftung Ebelin und Gerd Bucerius</a>, the project has been undertaken in cooperation with the <a href="https://www.ghi-dc.org/about-us/friends-of-the-ghi" target="_blank">Friends of the German Historical Institute</a>, the <a href="https://www.bpk-bildagentur.de/" target="_blank">Bildarchiv Preußischer Kulturbesitz</a> and the <a href="https://www.ieg-maps.uni-mainz.de/" target="_blank">IEG-MAPS, Institute of European History, Mainz</a>.
                    {% endif %}

                    <div style="margin-top: 1em">
                        {{ 'Partner project'|trans }}<br />
                        <a href="https://germanhistory-intersections.org/">
                            <img class="img-fluid w-25 logo-footer" src="{{ app.request.basepath }}/img/ghis/footer-ghis.png" alt="German History Intersections" />
                        </a>
                    </div>
                </div>
                <div class="col-sm-2 offset-sm-2">
                    {{ 'Follow us'|trans }}<br />
                    <a href="https://twitter.com/german_docs" target="_blank">
                        <img class="img-fluid w-25" src="{{ app.request.basepath }}/img/ghis/footer-twitter.png" alt="Twitter" /></a>
                    <a href="https://www.facebook.com/GHIWashington" target="_blank"><img class="img-fluid w-25" src="{{ app.request.basepath }}/img/ghis/footer-facebook.png" alt="Facebook" />
                    </a>
                </div>
            </div>
            <div class="row" style="border-top: 1px solid white">
                <div class="col-sm-6 left">
                    <ul class="list-inline">
                        <li class="list-inline-item"><a href="{{ path('terms') }}">{{ 'Conditions of Use'|trans }}</a></li>
                        <li class="list-inline-item"><a href="{{ path('terms') }}#contact">{{ 'Contact'|trans }}</a></li>
                        <li class="list-inline-item"><a href="{{ path('terms') }}#imprint">{{ 'Imprint'|trans }}</a></li>
                        <li class="list-inline-item"><a href="{{ path('terms') }}#data-protection">{{ 'Data Protection'|trans }}</a></li>
                    </ul>
                </div>
                <div class="col-sm-5" style="text-align: right">
                    &copy; {{ 'German Historical Institute Washington'|trans }}, 2003-2021
                </div>
            </div>
        </footer>
        {% endblock %}

        {% block javascripts %}{% endblock %}
    </body>
</html>
